说明：
===

1. JavaScript中有些代码是同步执行的，有些代码是异步执行的。
2. 同步代码：
    - 指在主线程上排队执行的代码。
    - 同步代码按顺序执行，只有前一个任务执行完毕，才能执行后一个任务。
3. 异步代码：
    - 异步代码不按顺序执行，它指定的任务被放到"任务队列"中，只有异步代码执行完毕，才会从"任务队列"中读取任务执行。
    - 异步任务包括：网络请求、定时器等。
4. 异步任务分为：宏任务和微任务。
    - 宏任务：
        - 每次执行栈执行的代码就是一个宏任务（包括每次从事件队列中获取一个事件回调并放到执行栈中执行）。
        - 浏览器为了能够使得JS内部宏任务与DOM任务能够有序地执行，会在一个宏任务执行结束后，在下一个宏任务执行开始前，对页面进行重新渲染，流程如下：
            - 执行栈为空
            - 渲染线程检查渲染区域是否空闲
            - 空闲则渲染区域的内容
            - 检查执行栈是否为空
            - 执行栈为空则执行渲染线程中的微任务队列
            - 渲染线程为空，则执行渲染线程中的宏任务队列
            - 渲染线程为空，则执行渲染线程中的微任务队列
            - 渲染线程为空，则执行渲染线程中的宏任务队列
            - ...
    - 微任务：
        - 每次事件循环（宏任务）执行完毕，在下一个宏任务执行开始前，检查是否存在微任务队列。
        - 如果有，则一次性执行完所有微任务队列中的任务（依次执行）。
        - 如果没有，则跳过。
    - 注意：
        - 宏任务中的微任务队列是每一个宏任务自己的。
        - 微任务队列是所有宏任务中共享的。
        - 渲染线程与JS引擎线程是互斥的。
        - 微任务队列为空，才会执行下一个宏任务（事件）。
        - 宏任务中，生成微任务，不会影响下一个宏任务的执行。
        - 微任务队列中，执行一个微任务，不会影响其他微任务的执行。
        - 宏任务可以有多个，微任务可以有多个，它们会在当前宏任务执行完毕，渲染线程空闲的时候执行。
        - 每次事件循环，渲染线程只会渲染一次。
        - 同一个事件循环中，渲染线程不会渲染两次。
        - 注意：
            - 微任务包括：`Promise.then()`、`MutationObserver`等。
            - 宏任务包括：`script`、`setTimeout`、`setInterval`、`I/O`、`UI交互`等。

5. 事件循环的顺序，决定js代码的执行顺序。进入整体代码(宏任务)
   后，开始第一次循环。接着执行宏任务中的所有微任务。然后再次从宏任务中选择一个微任务执行。执行完毕后，再从宏任务中选择一个微任务执行。

6. 宏任务与微任务的关系：
    - 每次事件循环，宏任务中的微任务队列是每一个宏任务自己的。
    - 微任务队列是所有宏任务中共享的。
    - 注意：
        - 微任务是在当前宏任务执行完毕，在下一个宏任务执行开始前，执行。
            - 微任务中，生成微任务，不会影响下一个微任务的执行。
            - 微任务队列中，执行一个微任务，不会影响其他微任务的执行。
        - 宏任务可以有多个，微任务可以有多个，它们会在当前宏任务执行完毕，渲染线程空闲的时候执行。

7. 宏任务与微任务的关系：
    - 每次事件循环，宏任务中的微任务队列是每一个宏任务自己的。
        - 微任务队列是所有宏任务中共享的。
    - 注意：
        - 微任务是在当前宏任务执行完毕，在下一个宏任务执行开始前，执行。
            - 微任务中，生成微任务，不会影响下一个微任务的执行。
            - 微任务队列中，执行一个微任务，不会影响其他微任务的执行。
        - 宏任务可以有多个，微任务可以有多个，它们会在当前宏任务执行完毕，渲染线程空闲的时候执行。

